---
layout: post
title: How to clone medium story into custom domain
author: angga kusumandaru
categories: ["rss-feeds", "médium", "jekyll", "clone-data"]
image: https://cdn-images-1.medium.com/max/1024/1*5aLb7BKRDdMgLyCCEBwE9g.png
---
<h3>How to build custom domain medium today</h3><p>Duplicate your medium content on your own site using jekyll and feedjira</p><p><em>Perquisites: see article </em><a href="https://medium.com/@kusumandaru/create-personal-website-on-second-152339342b7c"><em>https://medium.com/@kusumandaru/create-personal-website-on-second-152339342b7c</em></a><em> to step by step detail how to set and publish site.</em></p><p>As we know since November 2017 <a href="https://help.medium.com/hc/en-us/articles/115003053487-Custom-Domains-service-deprecation">medium</a> will not accept custom domain as part of medium. How if we want to took our content from medium and move it to our personal domain with only cost custom domain in nowadays.</p><p>Disclaimer: rather than publication will be hosted on Medium, it still using own hosting, i prefer github pages to hosting static page, cause it’s free and simple.</p><p>First of all we need Jekyll and specific template, i use template <a href="https://bootstrapstarter.com/bootstrap-templates/template-mediumish-bootstrap-jekyll/">mediumish</a> since it have sleek design and more relevant with medium design. It also have additional configuration for comment, google analytic and featured image.</p><p>Since it using markdown file (.md) as source of article</p><pre>---<br>layout: post<br>title:  &quot;Cool title&quot;<br>author: angga kusumandar<br>categories: [ Jekyll, tutorial ]<br>image: assets/images/5.jpg<br>description: &quot;Something about this post here&quot;<br>---</pre><p>we create md file from rss of medium, example <a href="https://medium.com/feed/@kusumandaru">https://medium.com/feed/@kusumandaru</a>, we can grab it and transform into md file. Take a note if each rss have ten latest article, and it can generate new one if new article medium exist, for old article you need create md file manually.</p><pre>url = &quot;https://medium.com/feed/@#{username}&quot;</pre><pre>xml = ::HTTParty.get(url).body</pre><pre>feeds = Feedjira.parse(xml)</pre><pre>feeds.entries.each do |entry|</pre><pre>  p &quot;Title: #{entry.title}, published on Medium #{entry.url} #{entry}&quot;</pre><pre>  create_file(entry, site)</pre><pre>end</pre><p>first we try to get rss and get entries data</p><pre>def image_url(content)</pre><pre>  doc = Nokogiri::HTML(content)</pre><pre>  doc.xpath(&quot;//img&quot;)[0][&#39;src&#39;]</pre><pre>end</pre><p>we also parse image using Nokogiri to get first image from each article to convert as feature image</p><pre>path_file = &quot;./_posts/&quot; + published.strftime(&#39;%F&#39;) + &#39;-&#39; + title.parameterize.first(15) + &quot;.md&quot;</pre><pre>path = site.in_source_dir(path_file)</pre><p>and than we create file with publish data and title to make unique and sort article by date</p><pre>File.open(path, &#39;wb&#39;) do |file|</pre><pre>  file.write &quot;---&quot;</pre><pre>  file.write &quot;\n&quot;</pre><pre>  file.write &quot;layout: post&quot;</pre><pre>  file.write &quot;\n&quot;</pre><pre>  file.write &quot;title: #{title}&quot;</pre><pre>  file.write &quot;\n&quot;</pre><pre>  file.write &quot;author: #{author}&quot;</pre><pre>  file.write &quot;\n&quot;</pre><pre>  file.write &quot;categories: #{category}&quot;</pre><pre>  file.write &quot;\n&quot;</pre><pre>  file.write &quot;image: #{image}&quot;</pre><pre>  file.write &quot;\n&quot;</pre><pre>  file.write &quot;---&quot;</pre><pre>  file.write &quot;\n&quot;</pre><pre>  file.write content</pre><pre>end</pre><p>and then we create content of md file with spesific format and content</p><p>After that try to publish static page using JEKYLL_ENV=production bundle exec jekyll build. also on spesific md file, add feature: true to make artice published on top of index page. Finally publish site page in github page.</p><p>And voila your website now consist medium content.</p><p>You can see full repository code <a href="https://github.com/kusumandaru/medium-rss">here</a></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*5aLb7BKRDdMgLyCCEBwE9g.png" /><figcaption>final website</figcaption></figure><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=3ab1c3c9625f" width="1" height="1">